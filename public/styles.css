/* ===========================
   EMUDriverTraining — styles
   =========================== */

/* ---- 基本佈景 ---- */
:root{
  --bg:#0b0c0f;
  --panel:#11131a;
  --fg:#0e1524;
  --fg-invert:#e7eaf3;
  --muted:#6b778d;
  --muted-invert:#9aa3b2;
  --line:#dfe3ee;           /* 淺色下的邊線 */
  --line-invert:#2a3142;    /* 深色下的邊線 */
  --accent:#7aa2ff;

  --radius:14px;
  --maxw:980px;

  /* 統一縮排參數 */
  --indent: 28px;           /* 每一層的統一縮排寬度 */
  
  /* 折疊樹狀視覺 */
  --gutter: 20px;           /* 左側作用區寬 */
  --rail-w: 1.5px;          /* 連接直線寬度 */
  --bullet-size: 8px;       /* 空心/實心點的外徑（兩者相同） */
  --rail: #dbe1f1;          /* 直線顏色（亮） */
  --bullet: #6b778d;        /* 點顏色（亮） */

  /* 圓點水平微調（負值往左、正值往右） */
  --bullet-nudge-x: -2px;
}

@media (prefers-color-scheme: dark){
:root{
  --fg:#e7eaf3;
  --muted:#9aa3b2;
  --line:#262b36;
  --rail:#2a3142;
  --bullet:#9aa3b2;
}
}

html,body{height:100%}
body{
  margin:0;
  color:var(--fg);
  font:16px/1.65 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",sans-serif;
  background:#fff;
}
@media (prefers-color-scheme: dark){
  body{ background:linear-gradient(180deg,var(--bg),#0f131d); }
}

.wrap{ max-width:var(--maxw); margin:0 auto; padding:20px 16px 60px; }

/* 可依需求隱藏頁首與標題列 */
.hdr{ display:none; }
.titlebar{ display:none; }

/* 卡片容器 */
.card{
  background:#fff;
  border:1px solid #e6e8ef;
  border-radius:var(--radius);
  box-shadow:0 10px 30px rgba(0,0,0,.06);
  overflow:hidden;
}
@media (prefers-color-scheme: dark){
  .card{ background:var(--panel); border-color:var(--line); }
}
.content{ padding:18px; }

/* Markdown 文字排版（精簡） */
.md-root h1{ font-size:28px; margin:12px 0 14px; }
.md-root p{ margin:10px 0; }
.md-root img{ max-width:100%; height:auto; display:block; margin:10px auto; border-radius:8px; }
pre{ background:#0001; padding:12px; border-radius:8px; }

/* 取消瀏覽器預設清單縮排，交給 .section 控制縮排 */
.md-root ul, .md-root ol{
  list-style-position: outside;
  padding-left: 0;
  margin-left: 0;
}

/* ===========================
   Roam 風樹狀：連貫直線＋空心/實心點＋統一縮排
   =========================== */

/* .section 由 JS 包裝：每個可折疊節點一個 .section
   JS 會在 .section 上設定 style="--depth:N"
   使用 margin-left 以固定每層距離，不讓 ul/ol 自己疊加 */
.section{
  position: relative;
  margin-left: var(--indent);
  padding-left: var(--gutter);
}

/* 最外層（depth=0）不需要額外的 margin */
.section[style*="--depth: 0"]{
  margin-left: 0;
}

/* 左側導軌（rail） */
.section::before{
  content:"";
  position:absolute;
  left: calc(var(--gutter)/2 - var(--rail-w)/2);
  top: -12px;
  bottom: -12px;
  width: var(--rail-w);
  background: var(--rail);
  pointer-events: none;
  z-index: 0;
}

/* 標題列的版面（heading 的字級在 index.html 的 <style> 中設定） */
.section > [role="heading"]{
  position: relative;
  z-index: 1;
}

/* 內容收合狀態（JS 會切換 .collapsed） */
.section-body.collapsed{ display:none; }

/* 讓最外層導軌兩端有些留白漸層 */
.section[style*="--depth: 0"]::before{
  background: linear-gradient(to bottom, transparent 0 6px, var(--rail) 6px calc(100% - 6px), transparent calc(100% - 6px) 100%);
}

/* 內容區塊一致的上下距 */
.section-body > *{ margin-block: .35rem .35rem; }

/* 讓圖像不會壓到左側樹狀區 */
.section-body img{ margin-left: .25rem; }

/* section-body 內的 ul/ol 不要再縮排，因為 li 會被轉成 .section */
.section-body ul, .section-body ol{
  padding-left: 0;
  margin-left: 0;
  list-style: none;
}

/* 如果 section-body 內仍有原生 li（理論上不會），給予縮排避免貼齊 */
.section-body li{
  margin-left: var(--indent);
}

/* 連結風格 */
.md-root a{ color:var(--accent); text-decoration:none; }
.md-root a:hover{ text-decoration:underline; }
