/* ===========================
   EMUDriverTraining â€” styles
   =========================== */

/* ---- åŸºæœ¬ä½ˆæ™¯ ---- */
:root{
  --bg:#0b0c0f;
  --panel:#11131a;
  --fg:#0e1524;
  --fg-invert:#e7eaf3;
  --muted:#6b778d;
  --muted-invert:#9aa3b2;
  --line:#dfe3ee;
  --line-invert:#2a3142;
  --accent:#7aa2ff;

  --radius:14px;
  --maxw:none;

  /* çµ±ä¸€ç¸®æ’åƒæ•¸ */
  --indent: 28px;

  /* æŠ˜ç–Šæ¨¹ç‹€è¦–è¦º */
  --gutter: 20px;
  --rail-w: 1.5px;
  --bullet-size: 8px;
  --rail: #dbe1f1;
  --bullet: #6b778d;

  /* æ°´å¹³ / å‚ç›´å¾®èª¿ */
  --bullet-nudge-x: -2px;
  --bullet-nudge-y: 0px;

  /* ç›´ç·šç«¯é»èˆ‡åœ“é»çš„å®‰å…¨è·ï¼ˆé¿å…ç©¿å‡ºåœ“é»ï¼‰ */
  --rail-cap: -5px;

  /* hover é¡è‰² */
  --heading-hover:#9ec5ff;

  /* åªé‡å°ç¬¬ä¸€å±¤ç´šåœ“é»çš„é¡å¤–å‚ç›´å¾®èª¿ï¼ˆæ­£æ•¸=å¾€ä¸‹ï¼‰ */
  --bullet-nudge-y-l1: 1px;
}

@media (prefers-color-scheme: dark){
:root{
  --fg:#e7eaf3;
  --muted:#9aa3b2;
  --line:#262b36;
  --rail:#2a3142;
  --bullet:#9aa3b2;
  --heading-hover:#009AFF;
}
}

html,body{
  height:100%;
  overflow-x: auto;
  overflow-y: auto;
}
body{
  margin:0;
  color:var(--fg);
  font:16px/1.65 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",sans-serif;
  background:#fff;
}
@media (prefers-color-scheme: dark){
  body{ background:linear-gradient(180deg,var(--bg),#0f131d); }
}

/* å…è¨±å…§å®¹æ°´å¹³å»¶ä¼¸ */
.wrap{
  max-width: none;
  margin:0 auto;
  padding:20px 16px 60px;
  overflow-x: auto;
  overflow-y: visible;
}

/* å¯ä¾éœ€æ±‚éš±è—é é¦–èˆ‡æ¨™é¡Œåˆ— */
.hdr{ display:none; }
.titlebar{ display:none; }

/* å¡ç‰‡å®¹å™¨ */
.card{
  background: transparent;
  border: none;
  border-radius: 0;
  box-shadow: none;
  overflow: visible;
  min-width: min-content;
  width: fit-content;
}
@media (prefers-color-scheme: dark){
  .card{ background: transparent; border: none; }
}
.content{
  padding: 0;
  min-width: min-content;
  width: fit-content;
  overflow: visible;
}

/* Markdown æ–‡å­—æ’ç‰ˆï¼ˆç²¾ç°¡ï¼‰ */
.md-root h1{
  font-size:28px;
  margin:12px 0 14px;
  max-width: 80vw;
  word-wrap: break-word;
  overflow-wrap: break-word;
}
.md-root p{
  margin:10px 0;
  max-width: 80vw;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
}
.md-root img{
  max-width: 80vw;
  height:auto;
  display:block;
  margin:10px auto;
  border-radius:8px;
}
pre{
  background:#0001;
  padding:12px;
  border-radius:8px;
  max-width: 80vw;
  overflow-x: auto;
  word-wrap: break-word;
}

/* å–æ¶ˆç€è¦½å™¨é è¨­æ¸…å–®ç¸®æ’ï¼Œäº¤çµ¦ .section æ§åˆ¶ç¸®æ’ */
.md-root ul, .md-root ol{
  list-style-position: outside;
  padding-left: 0;
  margin-left: 0;
}

/* ===========================
   Roam é¢¨æ¨¹ç‹€
   =========================== */

.section{
  position: relative;
  margin-left: var(--indent);
  padding-left: var(--gutter);
  min-width: fit-content;
}
.section[style*="--depth: 0"]{
  margin-left: 0;
}

.section-body{
  position: relative;
  min-width: fit-content;
}

/* å°è»Œ */
.section-body::before{
  content:"";
  position:absolute;
  left: calc(-1 * var(--gutter) + (var(--gutter) / 2) - (var(--rail-w) / 2) + 4px);
  top: var(--rail-cap);
  bottom: var(--rail-cap);
  width: var(--rail-w);
  background: var(--rail);
  pointer-events: none;
  z-index: 0;
  display: none;
}
.section.expanded.has-children > .section-body::before{
  display: block;
}

/* æ¨™é¡Œåˆ—ï¼ˆåœ“é»èˆ‡æ–‡å­—ï¼‰ */
.section > [role="heading"]{
  position: relative;
  z-index: 1;
  transition: color .15s ease;
  max-width: none;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  min-width: fit-content;

  /* é—œéµï¼šè®“åœ“é»ä»¥ã€Œç¬¬ä¸€è¡Œã€ç‚ºåŸºæº– */
  align-items: flex-start;
}

/* ğŸ”• åœ–ç‰‡æ¨™é¡Œçš„åœ“é»ã€Œéš±è—ä½†ä¿ç•™ä½ç½®ã€ */
.section.image-heading > [role="heading"]::before{
  visibility: hidden; /* åªéš±è—ï¼Œä¸ç§»é™¤ä½ˆå±€ç©ºé–“ */
}

/* é¡å¤–ä¿éšªï¼ˆæ”¯æ´ :has çš„ç€è¦½å™¨ï¼‰â€”â€” è‹¥æ¨™é¡Œåªæœ‰ä¸€å¼µåœ–ç‰‡ä¹Ÿéš±è—åœ“é» */
.section > [role="heading"]:has(> img:only-child)::before,
.section > [role="heading"]:has(> p:only-child > img:only-child)::before{
  visibility: hidden;
}

/* åªä¿®æ­£ã€Œç¬¬ä¸€å±¤ç´šã€åœ“é»çš„å‚ç›´ç½®ä¸­å¾®èª¿ï¼ˆä¸å½±éŸ¿å…¶ä»–å±¤ç´šï¼‰ */
.section[style*="--depth: 0"] > [role="heading"]::before{
  margin-top: calc(
    (var(--h-sub-line-height) * 1em - var(--bullet-size)) / 2
    + var(--bullet-nudge-y-l1, 1px)
  );
}

/* hover æ•ˆæœ */
.section.has-children > [role="heading"]:hover,
.section.has-children > [role="heading"]:focus-visible{
  color: var(--heading-hover);
  outline: none;
}

/* æ”¶åˆç‹€æ…‹ */
.section-body.collapsed{ display:none; }

/* å…§å®¹å€å¡Šä¸Šä¸‹è· */
.section-body > *{ margin-block: .35rem .35rem; }

/* å…§æ–‡åœ–ç‰‡èˆ‡æ®µè½å¯¬åº¦é™åˆ¶ */
.section-body img{
  margin-left: .25rem;
  max-width: 80vw;
}
.section-body p,
.section-body > *:not(.section):not(ul):not(ol) {
  max-width: 80vw;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
}

/* å…§éƒ¨ ul/ol */
.section-body ul, .section-body ol{
  padding-left: 0;
  margin-left: 0;
  list-style: none;
}

/* å¯èƒ½æ®˜ç•™çš„åŸç”Ÿ li */
.section-body li{
  margin-left: var(--indent);
  word-wrap: break-word;
}

/* é€£çµé¢¨æ ¼ */
.md-root a{
  color:var(--accent);
  text-decoration:none;
  word-wrap: break-word;
  overflow-wrap: break-word;
}
.md-root a:hover{ text-decoration:underline; }

/* æ²è»¸ç¾åŒ– */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 5px; }
::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.3); }

@media (prefers-color-scheme: dark){
  ::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
  ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); }
  ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.3); }
}
